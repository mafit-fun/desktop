# mafit白皮书
### TOC

## 1 前言
股票投资风格主要分为基本面分析和技术分析。
>基本面分析师通过研究包括宏观经济、行业状况和公司财务（包括公司的收入、费用、资产、负债等财务数据）等方方面面，来试图计算出公司的内在价值。
>  
>技术分析师则倾向于通过观察股票价格和交易量的历史数据，来衡量股票短期的供求关系。 

基本面分析，散户VS机构，毫无优势可言。没有经济学基础，缺乏对行业理解，不懂财务知识，更没有第一手的内部消息。  
技术面分析，所有的参与者几乎同时得到一样的K线数据，是相对公平的。散户资金体量小，操作灵活，反而有快进快出的优势。
>不同市场的规则与玩法（期权、做空、牛熊证、涡轮、转融通）有差别，需要参与者自己酌情箴辨。

**Mafit以技术面分析为主，基本面和消息面为辅，帮助用户挖掘优质股票，分析买点、卖点以及当前状态和趋势**。

>消息面特别多的股票，还需要参与者自己多留意突发消息, 做好计划安排。包括财报日、重大数据消息公布时间等，需要自己紧跟消息面的时间表盯盘。
>
>实践中，通常**技术面优先，消息面/基本面滞后**。机构在基本面大幅度落后技术面时通常会大幅提升目标价来弥补中间的差值，反之，则大幅度下调目标价。  
>>技术面结构会提前“暗示”转折，等待未知消息面冒头和确认.这在一定程度上会让人迷惑和不自信.

Mafit数据库中累计分析指标103个，默认提供组合：**混沌 + 小弦 + 大弦 + 矩阵[梯子]**.  
该组合适用面最广，稳定性最好，整体收益率也高。

>收益率最高的组合单向性非常强，在不同的行情里容易走极端。类似木头姐，某个阶段特别夯，另一个阶段特别渣。

### 1.1 适用人群
+ 新手可以避免走弯路，从零开始系统学习Mafit技术分析工具，构建良好的交易规则和系统，显著提高胜率和收益率。
+ 有经验的交易者可以多一种交易思路和选择，交叉验证，进一步提升自己的胜率。

### 1.2 官方客服支持
 ![官方客服微信](https://www.mafit.fun/assets/images/qrcode/support.jpg)

### 1.3 官方网站与移动APP
Mafit提供网页版，苹果应用，安卓应用。网页版提供最新最全的功能，移动端主要保留部分核心功能。
1. 网页版 [www.mafit.fun](https://www.mafit.fun)  
推荐使用微软Edege浏览器，谷歌浏览器。兼容360浏览器（极速模式）。Firefox和Safari可以用，但是可能存在未知bug。
2. iPhone/iPad:  分3步走
>1.在手机上安装TestFlight，AppStore搜索TestFlight即可下载TestFlight。  
>>TestFlight是苹果基于安全考虑的测试环境。**通过TestFlight，用户可以下载未上架AppStore的公测应用**。  
>
>2.发送日常使用的邮箱地址到官方客服，直接微信私信或者关注微信公众号【 mafit】  
>3.苹果后台添加你到外部测试组用户。苹果TestFlight会发送邀请邮件到a步骤的邮箱。这封邮件用手机打开，点击 "View in the testflight" ，输入邮件里的邀请码就可以看到app了。
3. 安卓版本： 直接访问  [https://mafit.fun/download]( https://mafit.fun/download) 下载apk即可。
4. 桌面版：直接访问  [https://mafit.fun/download]( https://mafit.fun/download) 或者 [https://github.com/mafit-fun/desktop/releases](https://github.com/mafit-fun/desktop/releases)

### 1.4 视频教程与社交账号
+ ~~哔哩哔哩: [十三药丸](https://space.bilibili.com/12435047/video)~~
+ Youtube: [mafitfun](https://www.youtube.com/@mafitfun/videos)
+ 微信视频号: 微信视频号搜索 mafit.fun
+ Twitter: [mafitfun](https://x.com/mafitfun)
+ Discord: [mafitfun](https://discord.gg/GS5bSKE6)

## 2 行情界面预览
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202406261100665.png)

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407081957054.png)

## 3 核心模块
### 3.1 云回测
测试Mafit在所有股票的数据表现，包括盈亏比，持仓周期，风险偏好等。
方便用户定制交易计划和滚仓排期，因为不同股票的涨跌大弦有时间差。刚好股票A涨完了，股票B开始涨，同理还有股票C和股票D。

### 3.2 检索系统
方便选股，搜索和挖掘目标形态的股票

### 3.3 矩阵 + 大小弦
矩阵 + 大小弦指标，用来追踪个股涨跌趋势，让你更好的把握股票的买卖位置。

## 4 基础定义
### 4.1 大小弦
**组成**
弦由**快线、慢线、柱线**组成，演化出多种形态特征。

**4.1.1 快慢线**
>**慢线**为**绿色线**，且**始终为绿色**。 
>**快线**表现为**棕色、蓝色**两种状态。
>>**快线在绿线上，快线为棕色**，对应的带状面为**浅绿色**  
>>**快线在绿线下，快线为蓝色**，对应的带状面为**浅红色**。
>>>快线设置两种颜色，是为了方便图表展示，层次更分明。

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202406261113319.png)

**4.1.2 象限与区间**
+ A象限： 连续的**深绿柱**构成A象限，A象限后必是B象限。即 $A -> B$
+ B象限： 连续的**浅绿柱**构成B象限，B象限后可以是A象限，也可以是C象限。即 $ B -> A$ 或 $B -> C$
+ C象限： 连续的**深红柱**构成C象限，C象限后必是D象限。即 $C -> D$
+ D象限： 连续的**浅红柱**构成D象限，D象限后可以是C象限，也可以是A象限。即 $D -> C$ 或 $D -> A$
+ a区间：快线 > 0  且  柱线 > 0  
+ b区间：快线 > 0  且 柱线 < 0
+ c区间： 快线 < 0 且 柱线 < 0
+ d区间： 快线 < 0 且 柱线 > 0

>**区间是不连续的**, **abcd之间可任意互相跳转**。
>即区间abcd后的区间可以是任意区间。  
>柱线大于0: 深绿、浅绿色柱，即**绿弦为AB象限**。  
>柱线小于0: 深红、浅红色柱，即**红弦为CD象限**。

附图展示了ABCD象限以及abcd区间的案例标注。
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202406261658653.png)

**4.1.3 弦属性**
+ 弦面积： 组合象限的面积。[AB]象限为绿色区域，[CD]象限为红色区域。连续区域内的柱线面积即为弦面积。
+ 弦长：组合象限的持续时间。 [AB]或[CD]组合象限的持续K线数总和。
+ 快线倾角：棕色快线的当前角度。角度在0度附近，则意味着斜率为0.
+ 慢线倾角：绿色慢线的当前角度。角度在0度附近，则意味着斜率为0.

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202406261609827.png)

### 4.2 矩阵
**4.2.1 组成**
矩阵由13根MMA线组成。
>6 + 6 + 1，6根快线组成**快线灰色矩阵带**，6根慢线组成**变色慢线矩阵带**，1根绿线作为辅助标记。  
>快线矩阵带**中位线**为**紫线**，慢线矩阵带**前锋线**为**红线**。

**4.2.2 关键特征解析**
>**紫、红、绿**3条线的**斜率**，以及**相互倾角（夹角）**，
>**慢线矩阵带**的【**方向、发散收敛宽度**】标记着矩阵带的**强弱**走势。  
>>在**上涨趋势**中，慢线矩阵带为**绿色**  
>>在**下跌趋势**中，慢线矩阵带为**粉色**  
>>在**趋势转换过程中**，慢线矩阵带为**蓝色+黄色**

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202406261739251.png)

**4.2.3 趋势定义与涨跌结构**

在**大小弦协同**的前提下，矩阵会呈现标准化的上涨、下跌趋势。
>一个简化的K线标准周期：K线 **上涨** -> **回调** -> **盘整**-> **下跌** -> **反弹** -> **盘整**  
>一个简化的矩阵标准周期： 矩阵带 **形成** -> **膨胀** -> **漂移** -> **收缩** -> **消失**

1.**上涨**
>大小弦强势确认后，股票开启疯涨模式，会一直在**紫线**上方拉升，直到**小弦走弱**且**紫色线斜率开始回置为0**。
>>价格远高于紫线时，可以基于1h分时信号寻找卖点卖出或者对冲，回撤到紫线附近的时候注意观察后续走势。
>>>**1h矩阵带的下沿**就是对应的**日线紫线**位置.

2.**回调**
>轻度回调：小弦进入弱势区域[BC]象限，价格开始回调，但站稳紫色线上方。  
>重度回调：小弦进入弱势区域[BC]象限，价格跌破紫色线，向矩阵带红色线运动。

3.**盘整**
>价格**第一次**回落慢线矩阵带，慢线矩阵带通常有非常强的支撑左右。  
>通常来讲，很难直接跌破矩阵带。会在矩阵范围内、甚至矩阵带上下摆动
>>矩阵带上升阶段，第一次回踩红线会获得强力支撑（尤其红线倾角大于20度）

4.**下跌**
>跌破矩阵带，紫色下穿红色线，并向绿色线运动。

5.**反弹**
>价格重新站上紫色线并向红色线运动，触达红线后，再度回落


### 4.3 梯子
**组成**
梯子主要由 **蓝色**、**粉色**、**黄色**三条梯子带状线组成。
>梯子带使用方法与矩阵类似，是矩阵的简化版本. 3条梯子，分别对应矩阵中的 紫线、红线、绿线.

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202406261754286.png)

### 4.4 混沌
**组成**
主要由快线、慢线组成。数值波动区间在0到100，**仅作为辅助使用，不可以独立使用**
>混沌指标只在矩阵指标处于**盘整**时期，有较高的准确性。在其他周期里，是非常容易钝化和失效的。
>>在**混沌指标有效的前提**下，越靠近顶部越是卖出信号，越靠近底部越是买入信号。

## 5 核心理论
**本质**
>**交易股票**其实就是在**交易趋势**, **交易趋势**其实就是在**交易矩阵带**，**交易矩阵带**其实就是在**交易大弦**。

mafit组合指标的核心就是：**动态追踪矩阵带紫线、红线、绿线的运动趋势与轨迹**。   
运动趋势与轨迹的核心表现为：**斜率、海拔**。海拔用于描述大小弦中快慢线与水平分界0线的距离和相对位置关系。
>**矩阵带、大弦、小弦、混沌线都是辅助手段**，便于追踪、判断、确认这3条线趋势与状态的手段。  
>类似字典的目录索引，可以更快更准确的找到相关字的位置。

**数学描述**  
对股票价格做加权均匀处理，得到一条平滑的运动曲线。
最新的数值记为 $f(0)$, N天前的曲线数值记为$f(N)$。  
在没有财报等重大突发消息的情况下, 有如下**减法定义**, 减法结果为K线条数  
>$$F(n) - F(0) = \frac{n - 1}{2}$$  
>$$F(m) - F(n) = \frac{m - n}{2}$$  

由该减法的统计得到如下结论：
>**惯性上涨、下跌的过程中，矩阵紫线、红线的运动时间差为10个K线周期。即10天后，红线会运动到紫线10天前的位置**

## 6 mafit口诀
交易股票其实就是在交易矩阵带，交易矩阵带其实就是在交易大弦。  
熟记下面的口诀，能够解决大部分股票和指数的买卖去留问题。 可以搭配[B站视频教程-药丸诀](https://www.bilibili.com/video/BV1zGxReCEXV/?vd_source=a2941b4d8b34e5c9fa3a790d92640dba)来理解。  
>1. 大弦结束，矩阵带结束；大弦开始，矩阵带开始。
>2. 大弦海拔太高，矩阵带要跨大弦，直到海拔系数减为0.5附近。
>3. A象限做多，B象限做T，C象限做空，D象限等反弹。
>4. 弦结束，或者弦快线倾角接近0度，为变盘信号。
>5. 新象限有效突破看高度
>6. 大小弦黄斑亮了等一等。
>>**口诀主要是用来简化理解，并非百分百的事实与定律**

## 7 组合实践与特征统计
**目标**  
综合**使用大弦、小弦、矩阵/梯子、混沌**指标来**挖掘买卖点**。

**概述**  
整个追踪系统，可以简化为 **矩阵带**的**形成、膨胀、漂移、收缩、消失**运动。
1. 形成：在矩阵带形成时，矩阵带的线纠缠交织在一起，彼此间间距很小。 矩阵形成的过程中，**大小弦快慢线**都在不断靠近0线位置。
2. 膨胀：矩阵带形成后，颜色为**绿涨红跌**。膨胀的过程中，红线和矩阵带沿着对应的涨跌方向运动，直到红线倾角接近0，膨胀结束，开始惯性漂移
3. 漂移：惯性漂移阶段，矩阵带的宽度保持不变或者变化很小，方向可以为**水平运动方向**或者**之前膨胀运动的惯性方向**。惯性漂移阶段，K线会随着小弦的节奏，在「BC」象限反复回踩矩阵红线，或者在矩阵带中横盘运动。
4. K线反复回踩矩阵带的过程中，矩阵带的宽度开始逐渐收缩，逐渐消失并开始切换形态，
5. 矩阵带消失并切换为新的形态，即横盘震荡形态或者直接逆转为反向运动的矩阵带。

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407082055024.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407082102534.png)

**大小弦与矩阵带的关联关系**  
>**小弦的快线**走势与**矩阵的紫线**走势密切相关；
>**大弦的快线**走势与**矩阵带的红线**走势密切相关；

上涨时，矩阵带为绿色，大弦快线与矩阵红线同频向上运动，直到快线斜率接近0，矩阵带开始惯性漂移，快线斜率为**负数**后，矩阵带开始**收缩**
>上涨时，若快线斜率$K$(倾角 $\theta$)>0，红线和矩阵带斜向上运动，斜率$K$(倾角$\theta$)越大，上涨速度越快，反之越慢

下跌时，矩阵带为粉色，大弦快线与矩阵红线同频向下运动，直到快线斜率接近0，矩阵带开始惯性漂移，快线斜率为**正数**后，矩阵带开始**收缩**
>下跌时，若快线斜率$K$(倾角 $\theta$)<0，红线和矩阵带斜向下运动，负斜率$K$(负倾角$\theta$)越小，下降速度越快，反之越慢

**严重控盘**  
对于**特别强势**或者**特别弱势**的股票，其大弦快线与矩阵带的运动还将与大小弦的海拔高度有关。  
即大弦快慢线离0轴的位置的距离将加强或者弱化这种同频的运动关系。  
此时，大小弦的快慢线附近会有 **连续黄色螺栓斑纹** 出现，提醒注意耐心等待更多信号确认。

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090215008.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090234812.png)


### 7.1 支撑度与梯度下降
这部分主要细说一下关于大小弦的**海拔**属性与矩阵带运动的关系。 
>海拔：即快慢线到0轴的距离。在[AB]象限为正，在[CD]象限为负。 

>>正高海拔： 在AB象限里，快慢线到0轴的距离 > 弦柱的高度  
>>负高海拔： 在CD象限里，快慢线到0轴的距离 > 弦柱的高度  
>>正负低海拔： 弦柱的高度 > 快慢线到0轴的距离  

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090307628.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090319636.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090324741.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090328904.png)

### 7.2 大小弦错位与共振  
虽然大小弦拥有很多类似的属性，但是两者本质是完全不同的。分别是用来追踪矩阵带和矩阵紫线的运动趋势。 
>矩阵带的运动更接近刚体，是整体运动，相对缓慢和稳定；   
>紫线的运动更接近流体，是随机运动，相对快速和多变化。 

在震荡行情（通常表现为矩阵带漂移 或者 矩阵带宽度明显偏小）的条件下：
>K线运动规律：A象限上涨，B象限回调，C象限下跌，D象限反弹。

在单方向上涨的行情里：（通常表现为矩阵带膨胀且向上运动）的条件下：
>K线运动规律：A象限上涨，B现象缓慢上涨或者轻度回调，C象限回踩矩阵下沿，D象限快速反弹到矩阵上方继续涨。

在单方向下跌的行情里：（通常表现为矩阵带膨胀且向下运动）的条件下：
>K线运动规律：A象限反弹，B象限回踩，C象限暴跌，D象限缓慢跌。

**相互关系**  
大小弦的运动类似于三角函数里的正余弦函数，或者说生活中的波浪。大小弦各自沿着 「ABCD」象限周期运动。  
大弦是大浪，小弦是小浪。矩阵带和紫线同时受到大小弦的运动影响。大弦的运动缓慢且稳定，小弦的运动快速且多变。  
所以K线的短期走势看小弦，长期走势看大弦。

#### 大小弦同频涨
当大弦和小弦同时进入A时，大小弦最强同频信号进入萌芽状态，当大小弦的**正海拔高度快速突破**前一个周期的海拔高度时，大小弦同频信号进入确认状态，在**高海拔**、**大小弦象限[AA]**的加持下，将迎来暴涨阶段。

#### 大小弦同频跌
同理，当大弦和小弦同时进入C时，大小弦最强同频信号进入萌芽状态，当大小弦的**负海拔高度快速突破**前一个周期的海拔高度时，大小弦同频信号进入确认状态，在**负高海拔**、**大小弦象限[CC]**的加持下，将迎来暴跌阶段。

同理，其他错位组合，对应不那么强的上涨、不那么强的下跌、或者单纯的震荡行情。
>当快慢线的海拔不好确认时，也可以使用弦柱高度来替代海拔作为参考条件。

![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090433233.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090438228.png)

#### 小弦跳
前置条件：
1. 矩阵带处于膨胀或者漂移阶段（K线始终在矩阵带红色线上方或者接近红色线）
2. 大弦在A象限且正高海拔 或者 B象限且正高海拔
3. 小弦处于 D象限的末尾

随着小弦D象限快结束，在 $D -> A$的过程中，会有单日大涨幅(数倍于平常的涨幅)出现。
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090449042.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090451838.png)
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202407090456880.png)

### 买卖信号
买卖信号可以有多种组合，按照1天、1小时等不同维度区分，也可以通过矩阵、梯子等不同指标信号区分。
买卖等信号也可以根据状态区分： 萌芽、确认成功｜确认失效。

由于不同信号的灵敏度不同，一般通过日线和大弦确定大的方向和时间点，再通过1h的K线去找到最高点或最低点。

当矩阵的紫线、红线斜率(倾角)接近0，或者大弦的快线斜率(倾角)接近0时，会产生 **「萌芽」**信号。这时候，需要通过检查是否有**连续螺纹黄斑**来判断后续的买卖或者多空行为是否合适。

通常来讲，能够合理的判断矩阵带的状态和运动方向，即可做出相应合理的买卖多空行为。



### QA
1. 股票拿了两年多，一直在跌，卖了却又涨起来了。
![](https://raw.githubusercontent.com/fayhot/figurebed/ywf/202407/202410070927705.png)  
因为买在了大弦C象限，叠加矩阵带向下瀑布流，海拔系数很高。